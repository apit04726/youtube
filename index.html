<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-adsense-account" content="ca-pub-9923125009911899">
    <meta http-equiv="Permissions-Policy"
        content="autoplay=*; encrypted-media=*; accelerometer=*; gyroscope=*; picture-in-picture=*; clipboard-write=*">
    <title>Story by Elleone | Unfolding The Story</title>
    <!-- Font Awesome for icons -->
    <link rel="icon" type="image/svg+xml" href="img/favicon-se.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="index.css">
        <!-- Google AdSense Auto Ads -->
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9923125009911899"
            crossorigin="anonymous"></script>
</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="https://www.youtube.com/@StorybyElleone/videos" target="_blank" class="logo new-logo">
                    <img src="img/logo-yt-.png" alt="ChannelPro Logo" class="logo-img">
                    <div style="display: flex; flex-direction: column;">
                        <span class="logo-span" style="font-size: 26px; font-weight: bold; color: #222;">Story by<span
                                style="color: #e62117;">Elleone</span></span>
                    </div>
                </a>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#videos">Videos</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><button id="adminLoginBtn" class="btn btn-outline" style="margin-left:20px;">Admin
                            Login</button></li>
                </ul>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="floating-elements">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="container" id="about">
            <h1>Unfolding The <span class="animated-font">Story by Elleone</span></h1>
            <p>Discover proven strategies to increase subscribers, boost engagement, and maximize your YouTube channel's
                potential.</p>
            <div class="hero-btns">
                <a href="#videos" class="btn">Watch Latest Videos</a>
                <a href="https://www.youtube.com/@StorybyElleone/videos" target="_blank"
                    class="btn btn-outline">Subscribe Now</a>
            </div>
        </div>
    </section>
    <!-- Features Section -->
    <section class="section" id="features">
        <div class="container">
            <h2 class="section-title">Why <span>Subscribe</span> to Our Channel?</h2>
            <div class="features-grid">
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>High-Quality Content</h3>
                    <p>We produce engaging, well-edited videos on topics that matter to our audience with professional
                        production quality.</p>
                </div>
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-upload"></i>
                    </div>
                    <h3>Regular Uploads</h3>
                    <p>Consistent content schedule so you always have something new to watch and learn from our channel.
                    </p>
                </div>
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Active Community</h3>
                    <p>Join our growing community and connect with like-minded people who share your passion for content
                        creation.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Channel Showcase -->
    <section class="section channel-showcase" id="videos">
        <div class="floating-video-icons">
            <div><i class="fas fa-play-circle"></i></div>
            <div><i class="fas fa-film"></i></div>
            <div><i class="fas fa-video"></i></div>
            <div><i class="fas fa-youtube"></i></div>
        </div>
        <div class="container">
            <h2 class="section-title">Channel <span>Highlights</span></h2>

            <div class="channel-stats">
                <div class="stat animate-on-scroll">
                    <span class="stat-number" id="stat-subscribers">...</span>
                    <span>Subscribers</span>
                </div>
                <div class="stat animate-on-scroll">
                    <span class="stat-number" id="stat-videos">...</span>
                    <span>Videos</span>
                </div>
                <div class="stat animate-on-scroll">
                    <span class="stat-number" id="stat-views">...</span>
                    <span>Total Views</span>
                </div>
            </div>

            <div class="video-grid-container">
                <!-- Animated Watch Now Button -->
                <div class="watch-now-wrapper">
                    <button class="watch-now-btn">
                        <span class="watch-now-text"><a href="https://www.youtube.com/@StorybyElleone/videos"
                                target="_blank">Watch Now</a></span>
                        <span class="watch-now-icon"><i class="fas fa-play"></i></span>
                    </button>
                </div>
                <div class="video-grid">
                    <!-- Video cards will be loaded dynamically -->
                </div>
                <!-- Pagination -->
                <div class="pagination" id="videoPagination">
                    <!-- Pagination buttons will be added here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Video Player Modal -->
    <div class="video-modal" id="videoModal">
        <div class="video-modal-content">
            <button class="close-video-modal" id="closeVideoModal">&times;</button>
            <div class="video-player-container">
                <iframe id="youtube-player" src="" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                    permissionspolicy="autoplay=(self); encrypted-media=(self); accelerometer=(self); gyroscope=(self); picture-in-picture=(self); clipboard-write=(self)"></iframe>
            </div>
            <div class="video-actions">
                <button class="action-btn" id="likeVideoBtn">
                    <i class="fas fa-thumbs-up"></i> Like
                </button>
                <button class="action-btn" id="subscribeBtn">
                    <i class="fab fa-youtube"></i> Subscribe
                </button>
            </div>
        </div>
    </div>

    <!-- CTA Section -->
    <section class="cta" id="subscribe">
        <div class="container">
            <h2>Ready to Join Our Community?</h2>
            <p>Subscribe to our channel and never miss an update. Be part of our growing family of content creators and
                enthusiasts.</p>
            <a href="https://www.youtube.com/@StorybyElleone/videos" target="_blank" class="btn">Subscribe Now</a>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3 class="footer-animated-font">Story by Elleone</h3>
                    <p>Helping content creators grow their YouTube channels with proven strategies and engaging content.
                    </p>
                    <div class="social-links">
                        <a href="https://www.youtube.com/@StorybyElleone/videos"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                    </div>
                </div>

                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#videos">Videos</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="#">Tutorials</a></li>
                        <li><a href="#">Gear Reviews</a></li>
                        <li><a href="#">Growth Strategies</a></li>
                        <li><a href="#">Case Studies</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul>
                        <li><i class="fas fa-envelope"></i> contact@channelpro.com</li>
                        <li><i class="fas fa-phone"></i> +9123456789</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Creator Street, Digital City</li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2024-2025 Story by Elleone. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal">
        <div class="modal-content">
            <button id="closeLoginModal">&times;</button>
            <h2 style="margin-bottom:20px;">Admin Login</h2>
            <form id="adminLoginForm" autocomplete="off">
                <div style="margin-bottom:20px;">
                    <label for="adminName">Name</label>
                    <input type="text" id="adminName" name="adminName" required>
                </div>
                <div style="margin-bottom:20px;">
                    <label for="adminPassword">Password</label>
                    <input type="password" id="adminPassword" name="adminPassword" required>
                </div>
                <button type="submit" class="btn" style="width:100%;">Login</button>
                <div id="loginError"></div>
            </form>
        </div>
    </div>

    <script>
        // YouTube API Key

         // ======================================================================        

            // API SETUP
            // const apiKey = "AIzaSyB54Vas0Z4LRO5juPVyOPspj2vRYN1vqeI";
            const apiKey = "AIzaSyAptU7AGLe80wLAsi9TNrIMv7h1G6i0P-s";
            // const apiKey = "AIzaSyDiSrnJV9Z-SUM7RW8SEy-13fsTfPG5k8U"
            // ======================================================================        
        const channelId = "UCnhvr3JjSCY6SkAVqdDUIbg";

        // Global variables
        let currentVideoId = '';
        let player;
        let isSubscribed = false;
        let pageTokens = [null]; // First page has null token
        let currentPageIndex = 0;

        // Fetch channel statistics and update UI
        function updateChannelStats() {
            fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${channelId}&key=${apiKey}`)
                .then(res => res.json())
                .then(data => {
                    if (data.items && data.items.length > 0) {
                        const stats = data.items[0].statistics;
                        document.getElementById('stat-subscribers').textContent = stats.subscriberCount ? Number(stats.subscriberCount).toLocaleString() : 'N/A';
                        document.getElementById('stat-videos').textContent = stats.videoCount ? Number(stats.videoCount).toLocaleString() : 'N/A';
                        document.getElementById('stat-views').textContent = stats.viewCount ? Number(stats.viewCount).toLocaleString() : 'N/A';
                    }
                })
                .catch(() => {
                    document.getElementById('stat-subscribers').textContent = 'N/A';
                    document.getElementById('stat-videos').textContent = 'N/A';
                    document.getElementById('stat-views').textContent = 'N/A';
                });
        }

        // Load YouTube IFrame API
        function loadYouTubeAPI() {
            const tag = document.createElement('script');
            tag.src = "https://www.youtube.com/iframe_api";
            const firstScriptTag = document.getElementsByTagName('script')[0];
            firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        }

        // Initialize YouTube player
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '100%',
                width: '100%',
                playerVars: {
                    'autoplay': 1,
                    'controls': 1,
                    'rel': 0,
                    'modestbranding': 1
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            // Player is ready
        }

        function onPlayerStateChange(event) {
            // Track video state changes if needed
        }

        // Open video modal and play video
        function openVideoModal(videoId) {
            currentVideoId = videoId;
            const videoModal = document.getElementById('videoModal');
            const iframe = document.getElementById('youtube-player');

            // Update iframe src with autoplay
            iframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&enablejsapi=1`;

            // Show modal
            videoModal.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Reset like and subscribe buttons
            document.getElementById('likeVideoBtn').innerHTML = '<i class="fas fa-thumbs-up"></i> Like';
            document.getElementById('subscribeBtn').innerHTML = '<i class="fab fa-youtube"></i> Subscribe';
            isSubscribed = false;

            // Redirect to official YouTube video after 30 seconds
            if (window.youtubeRedirectTimeout) {
                clearTimeout(window.youtubeRedirectTimeout);
            }
            window.youtubeRedirectTimeout = setTimeout(function () {
                window.location.href = `https://www.youtube.com/watch?v=${videoId}`;
            }, 30000);
        }

        // Close video modal
        function closeVideoModal() {
            const videoModal = document.getElementById('videoModal');
            const iframe = document.getElementById('youtube-player');

            // Stop video
            iframe.src = '';

            // Hide modal
            videoModal.classList.remove('active');

            // Clear redirect timer if modal is closed before redirect
            if (window.youtubeRedirectTimeout) {
                clearTimeout(window.youtubeRedirectTimeout);
                window.youtubeRedirectTimeout = null;
            }
            document.body.style.overflow = 'auto';
        }
        

        // Like video function
        function likeVideo() {
            if (!currentVideoId) return;

            // In a real implementation, this would use YouTube API to like the video
            // For demo purposes, we'll just update the UI
            const likeBtn = document.getElementById('likeVideoBtn');
            likeBtn.innerHTML = '<i class="fas fa-thumbs-up"></i> Liked';
            likeBtn.style.background = '#666';
            likeBtn.disabled = true;

            // Show success message
            alert('Video liked successfully!');
        }

        // Subscribe to channel function
        function subscribeToChannel() {
            // In a real implementation, this would use YouTube API to subscribe
            // For demo purposes, we'll just update the UI
            const subscribeBtn = document.getElementById('subscribeBtn');

            if (!isSubscribed) {
                subscribeBtn.innerHTML = '<i class="fab fa-youtube"></i> Subscribed';
                subscribeBtn.classList.add('subscribed');
                isSubscribed = true;

                // Update subscriber count
                const currentSubs = document.getElementById('stat-subscribers').textContent;
                if (currentSubs !== 'N/A' && currentSubs !== '...') {
                    const newSubs = (parseInt(currentSubs.replace(/,/g, '')) + 1).toLocaleString();
                    document.getElementById('stat-subscribers').textContent = newSubs;
                }

                // Show success message
                alert('Subscribed to channel successfully!');
            } else {
                subscribeBtn.innerHTML = '<i class="fab fa-youtube"></i> Subscribe';
                subscribeBtn.classList.remove('subscribed');
                isSubscribed = false;

                // Update subscriber count
                const currentSubs = document.getElementById('stat-subscribers').textContent;
                if (currentSubs !== 'N/A' && currentSubs !== '...') {
                    const newSubs = (parseInt(currentSubs.replace(/,/g, '')) - 1).toLocaleString();
                    document.getElementById('stat-subscribers').textContent = newSubs;
                }

                // Show success message
                alert('Unsubscribed from channel!');
            }
        }

        // Load and display videos with pagination
        function loadVideos(pageToken = null) {
            const grid = document.querySelector('.video-grid');
            const pagination = document.getElementById('videoPagination');

            if (!grid) return;

            grid.innerHTML = '<div style="display:flex;justify-content:center;align-items:center;height:220px;width:100%;grid-column:1/-1;"><div class="loader"></div></div>';
            pagination.innerHTML = '';

            const videosPerPage = 6;
            let url = `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&channelId=${channelId}&part=snippet,id&order=date&maxResults=${videosPerPage}`;

            if (pageToken) {
                url += `&pageToken=${pageToken}`;
            }

            fetch(url)
                .then(res => res.json())
                .then(data => {
                    const videoIds = data.items.map(v => v.id.videoId).filter(Boolean);
                    if (videoIds.length === 0) {
                        grid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">No videos found.</p>';
                        // If no next page, trim tokens
                        pageTokens = pageTokens.slice(0, currentPageIndex + 1);
                        renderPagination();
                        return;
                    }

                    // Manage pageTokens and currentPageIndex
                    if (data.nextPageToken) {
                        // If moving forward, add token for next page
                        if (!pageTokens[currentPageIndex + 1] || pageTokens[currentPageIndex + 1] !== data.nextPageToken) {
                            pageTokens[currentPageIndex + 1] = data.nextPageToken;
                        }
                    } else {
                        // If no next page, remove any extra tokens
                        pageTokens = pageTokens.slice(0, currentPageIndex + 1);
                    }

                    // Fetch video stats
                    fetch(`https://www.googleapis.com/youtube/v3/videos?key=${apiKey}&id=${videoIds.join(',')}&part=statistics`)
                        .then(res2 => res2.json())
                        .then(statsData => {
                            let html = "";
                            data.items.forEach((video, idx) => {
                                const videoId = video.id.videoId;
                                const title = video.snippet.title;
                                const thumbnail = video.snippet.thumbnails.medium.url;
                                let views = '', likes = '';
                                if (statsData.items[idx]) {
                                    views = statsData.items[idx].statistics.viewCount || '';
                                    likes = statsData.items[idx].statistics.likeCount || '';
                                }
                                html += `
                                    <div class="video-card animate-on-scroll" data-video-id="${videoId}">
                                        <div class="video-thumbnail">
                                            <img src="${thumbnail}" alt="${title}">
                                            <div class="play-btn"><i class="fas fa-play"></i></div>
                                        </div>
                                        <div class="video-info">
                                            <h3>${title}</h3>
                                            <div class="video-meta">
                                                <span><i class='fas fa-eye'></i> ${views} views</span>
                                                <span><i class='fas fa-thumbs-up'></i> ${likes} likes</span>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            });
                            grid.innerHTML = html;
                            // Add click event to video cards
                            grid.querySelectorAll('.video-card').forEach(card => {
                                card.addEventListener('click', function () {
                                    const videoId = this.getAttribute('data-video-id');
                                    openVideoModal(videoId);
                                });
                            });
                            renderPagination();
                            setTimeout(() => {
                                animateOnScroll();
                            }, 100);
                        })
                        .catch(err2 => {
                            grid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">Failed to load video stats.</p>';
                            console.error(err2);
                        });
                })
                .catch(err => {
                    grid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">Failed to load videos.</p>';
                    console.error(err);
                });
        }

        // Render pagination buttons
        function renderPagination() {
            const pagination = document.getElementById('videoPagination');
            if (!pagination) return;
            pagination.innerHTML = '';

            // Previous button
            const prevBtn = document.createElement('button');
            prevBtn.className = 'pagination-btn';
            prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i> <span>Previous</span>';
            prevBtn.disabled = currentPageIndex === 0;
                prevBtn.addEventListener('click', () => {
                    if (currentPageIndex > 0) {
                        currentPageIndex--;
                        loadVideos(pageTokens[currentPageIndex]);
                        setTimeout(() => {
                            const watchNowBtn = document.querySelector('.watch-now-btn');
                            if (watchNowBtn) {
                                watchNowBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                        }, 300);
                    }
                });

            // Page info
            const pageInfo = document.createElement('span');
            pageInfo.className = 'pagination-info';
            pageInfo.textContent = `Page ${currentPageIndex + 1}`;

            // Next button
            const nextBtn = document.createElement('button');
            nextBtn.className = 'pagination-btn';
            nextBtn.innerHTML = '<span>Next</span> <i class="fas fa-chevron-right"></i>';
            nextBtn.disabled = !pageTokens[currentPageIndex + 1];
                nextBtn.addEventListener('click', () => {
                    if (pageTokens[currentPageIndex + 1]) {
                        currentPageIndex++;
                        loadVideos(pageTokens[currentPageIndex]);
                        setTimeout(() => {
                            const watchNowBtn = document.querySelector('.watch-now-btn');
                            if (watchNowBtn) {
                                watchNowBtn.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                        }, 300);
                    }
                });

            pagination.appendChild(prevBtn);
            pagination.appendChild(pageInfo);
            pagination.appendChild(nextBtn);
        }

        // Animation on scroll
        const animateOnScroll = () => {
            const elements = document.querySelectorAll('.animate-on-scroll');

            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;

                if (elementTop < windowHeight - 100) {
                    element.classList.add('animated');
                }
            });
        };

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            updateChannelStats();
            loadYouTubeAPI();
            loadVideos(); // Load first page

            // Mobile Menu Toggle
            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');

            hamburger.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                hamburger.querySelector('i').classList.toggle('fa-bars');
                hamburger.querySelector('i').classList.toggle('fa-times');
            });

            // Close mobile menu when clicking on a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    hamburger.querySelector('i').classList.add('fa-bars');
                    hamburger.querySelector('i').classList.remove('fa-times');
                });
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;

                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Add scroll effect to navbar
            window.addEventListener('scroll', () => {
                const header = document.querySelector('header');
                if (window.scrollY > 100) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }

                animateOnScroll();
            });

            // Video modal events
            document.getElementById('closeVideoModal').addEventListener('click', closeVideoModal);
            document.getElementById('likeVideoBtn').addEventListener('click', likeVideo);
            document.getElementById('subscribeBtn').addEventListener('click', subscribeToChannel);

            // Close video modal when clicking outside
            document.getElementById('videoModal').addEventListener('click', function (e) {
                if (e.target === this) {
                    closeVideoModal();
                }
            });

            // Admin Login Modal Logic
            const adminLoginBtn = document.getElementById('adminLoginBtn');
            const adminLoginModal = document.getElementById('adminLoginModal');
            const closeLoginModal = document.getElementById('closeLoginModal');
            const adminLoginForm = document.getElementById('adminLoginForm');
            const loginError = document.getElementById('loginError');

            // Show modal
            adminLoginBtn.addEventListener('click', (e) => {
                e.preventDefault();
                adminLoginModal.style.display = 'flex';
                loginError.style.display = 'none';
                adminLoginForm.reset();
            });

            // Hide modal
            closeLoginModal.addEventListener('click', () => {
                adminLoginModal.style.display = 'none';
            });

            // Hide modal on outside click
            adminLoginModal.addEventListener('click', (e) => {
                if (e.target === adminLoginModal) adminLoginModal.style.display = 'none';
            });

            // Simple login validation
            adminLoginForm.addEventListener('submit', function (e) {
                e.preventDefault();
                const name = document.getElementById('adminName').value.trim();
                const pass = document.getElementById('adminPassword').value;

                if (name === 'jaydip' && pass === '111111') {
                    sessionStorage.setItem('adminLoggedIn', '1');
                    window.open('admin.html', '_blank');
                    adminLoginModal.style.display = 'none';
                } else {
                    loginError.textContent = 'Invalid name or password.';
                    loginError.style.display = 'block';
                }
            });

            // Initial animation check
            animateOnScroll();
        });
    </script>
</body>

</html>