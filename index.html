<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChannelPro | Grow Your YouTube Audience</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="index.css">


</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo"><i class="fab fa-youtube"></i>Channel<span>Pro</span></a>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#videos">Videos</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li><button id="adminLoginBtn" class="btn btn-outline" style="margin-left:20px;">Admin
                            Login</button></li>
                </ul>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="floating-elements">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="container">
            <h1>Grow Your YouTube Channel Like a Pro</h1>
            <p>Discover proven strategies to increase subscribers, boost engagement, and maximize your YouTube channel's
                potential.</p>
            <div class="hero-btns">
                <a href="#videos" class="btn">Watch Latest Videos</a>
                <a href="#subscribe" class="btn btn-outline">Subscribe Now</a>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="section" id="features">
        <div class="container">
            <h2 class="section-title">Why <span>Subscribe</span> to Our Channel?</h2>
            <div class="features-grid">
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-video"></i>
                    </div>
                    <h3>High-Quality Content</h3>
                    <p>We produce engaging, well-edited videos on topics that matter to our audience with professional
                        production quality.</p>
                </div>
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-upload"></i>
                    </div>
                    <h3>Regular Uploads</h3>
                    <p>Consistent content schedule so you always have something new to watch and learn from our channel.
                    </p>
                </div>
                <div class="feature-card animate-on-scroll">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Active Community</h3>
                    <p>Join our growing community and connect with like-minded people who share your passion for content
                        creation.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Channel Showcase -->
    <section class="section channel-showcase" id="videos">
        <div class="floating-video-icons">
            <div><i class="fas fa-play-circle"></i></div>
            <div><i class="fas fa-film"></i></div>
            <div><i class="fas fa-video"></i></div>
            <div><i class="fas fa-youtube"></i></div>
        </div>
        <div class="container">
            <h2 class="section-title">Channel <span>Highlights</span></h2>

            <div class="channel-stats">
                <div class="stat animate-on-scroll">
                    <span class="stat-number" id="stat-subscribers">...</span>
                    <span>Subscribers</span>
                </div>
                <div class="stat animate-on-scroll">
                    <span class="stat-number" id="stat-videos">...</span>
                    <span>Videos</span>
                </div>
                <div class="stat animate-on-scroll">
                    <span class="stat-number" id="stat-views">...</span>
                    <span>Total Views</span>
                </div>
            </div>

            <div class="video-grid-container">
                <!-- Animated Watch Now Button -->
                <div class="watch-now-wrapper">
                    <button class="watch-now-btn">
                        <span class="watch-now-text">Watch Now</span>
                        <span class="watch-now-icon"><i class="fas fa-play"></i></span>
                    </button>
                </div>
                <div class="video-grid">
                    <!-- Video cards will be loaded dynamically by video-grid.js -->
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta" id="subscribe">
        <div class="container">
            <h2>Ready to Join Our Community?</h2>
            <p>Subscribe to our channel and never miss an update. Be part of our growing family of content creators and
                enthusiasts.</p>
            <a href="https://youtube.com" target="_blank" class="btn">Subscribe Now</a>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>ChannelPro</h3>
                    <p>Helping content creators grow their YouTube channels with proven strategies and engaging content.
                    </p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                    </div>
                </div>

                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#videos">Videos</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Categories</h3>
                    <ul>
                        <li><a href="#">Tutorials</a></li>
                        <li><a href="#">Gear Reviews</a></li>
                        <li><a href="#">Growth Strategies</a></li>
                        <li><a href="#">Case Studies</a></li>
                        <li><a href="#">Community</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3>Contact Info</h3>
                    <ul>
                        <li><i class="fas fa-envelope"></i> contact@channelpro.com</li>
                        <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Creator Street, Digital City</li>
                    </ul>
                </div>
            </div>

            <div class="copyright">
                <p>&copy; 2023 ChannelPro. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal">
        <div class="modal-content">
            <button id="closeLoginModal">&times;</button>
            <h2 style="margin-bottom:20px;">Admin Login</h2>
            <form id="adminLoginForm" autocomplete="off">
                <div style="margin-bottom:20px;">
                    <label for="adminName">Name</label>
                    <input type="text" id="adminName" name="adminName" required>
                </div>
                <div style="margin-bottom:20px;">
                    <label for="adminPassword">Password</label>
                    <input type="password" id="adminPassword" name="adminPassword" required>
                </div>
                <button type="submit" class="btn" style="width:100%;">Login</button>
                <div id="loginError"></div>
            </form>
        </div>
    </div>

    <script>
        // Fetch channel statistics and update UI
        function updateChannelStats() {
            // ======================================================================        

            // API SETUP
            // const apiKey = "AIzaSyB54Vas0Z4LRO5juPVyOPspj2vRYN1vqeI";
            const apiKey = "AIzaSyAptU7AGLe80wLAsi9TNrIMv7h1G6i0P-s";

            // ======================================================================        

            const channelId = "UCPFdFGaZFDy4j1IpZmyaYPw";
            fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${channelId}&key=${apiKey}`)
                .then(res => res.json())
                .then(data => {
                    if (data.items && data.items.length > 0) {
                        const stats = data.items[0].statistics;
                        document.getElementById('stat-subscribers').textContent = stats.subscriberCount ? Number(stats.subscriberCount).toLocaleString() : 'N/A';
                        document.getElementById('stat-videos').textContent = stats.videoCount ? Number(stats.videoCount).toLocaleString() : 'N/A';
                        document.getElementById('stat-views').textContent = stats.viewCount ? Number(stats.viewCount).toLocaleString() : 'N/A';
                    }
                })
                .catch(() => {
                    document.getElementById('stat-subscribers').textContent = 'N/A';
                    document.getElementById('stat-videos').textContent = 'N/A';
                    document.getElementById('stat-views').textContent = 'N/A';
                });
        }
        updateChannelStats();
        // Mobile Menu Toggle
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.querySelector('i').classList.toggle('fa-bars');
            hamburger.querySelector('i').classList.toggle('fa-times');
        });

        // Close mobile menu when clicking on a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                hamburger.querySelector('i').classList.add('fa-bars');
                hamburger.querySelector('i').classList.remove('fa-times');
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                const targetId = this.getAttribute('href');
                if (targetId === '#') return;

                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 70,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Add scroll effect to navbar
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Animation on scroll
        const animateOnScroll = () => {
            const elements = document.querySelectorAll('.animate-on-scroll');

            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;

                if (elementTop < windowHeight - 100) {
                    element.classList.add('animated');
                }
            });
        };

        window.addEventListener('scroll', animateOnScroll);
        window.addEventListener('load', animateOnScroll);

        // Admin Login Modal Logic
        const adminLoginBtn = document.getElementById('adminLoginBtn');
        const adminLoginModal = document.getElementById('adminLoginModal');
        const closeLoginModal = document.getElementById('closeLoginModal');
        const adminLoginForm = document.getElementById('adminLoginForm');
        const loginError = document.getElementById('loginError');

        // Show modal
        adminLoginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            adminLoginModal.style.display = 'flex';
            loginError.style.display = 'none';
            adminLoginForm.reset();
        });

        // Hide modal
        closeLoginModal.addEventListener('click', () => {
            adminLoginModal.style.display = 'none';
        });

        // Hide modal on outside click
        adminLoginModal.addEventListener('click', (e) => {
            if (e.target === adminLoginModal) adminLoginModal.style.display = 'none';
        });

        // Simple login validation
        adminLoginForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const name = document.getElementById('adminName').value.trim();
            const pass = document.getElementById('adminPassword').value;

            // Updated credentials: name: jaydip, password: 111111
            if (name === 'jaydip' && pass === '111111') {
                sessionStorage.setItem('adminLoggedIn', '1');
                window.open('admin.html', '_blank');
                adminLoginModal.style.display = 'none';
            } else {
                loginError.textContent = 'Invalid name or password.';
                loginError.style.display = 'block';
            }
        });

        // Enhanced video card hover effects
        document.querySelectorAll('.video-card').forEach(card => {
            card.addEventListener('mouseenter', function () {
                this.style.zIndex = '10';
            });

            card.addEventListener('mouseleave', function () {
                this.style.zIndex = '1';
            });
        });

        // video-grid.js - Loads and displays videos from localStorage
        document.addEventListener('DOMContentLoaded', function () {
            const grid = document.querySelector('.video-grid');
            if (!grid) return;
            grid.innerHTML = '';

            // ======================================================================        

            // API SETUP
            // const apiKey = "AIzaSyB54Vas0Z4LRO5juPVyOPspj2vRYN1vqeI";
            const apiKey = "AIzaSyAptU7AGLe80wLAsi9TNrIMv7h1G6i0P-s";

            // ======================================================================        

            const channelId = "UCPFdFGaZFDy4j1IpZmyaYPw";
            const videosPerPage = 6;
            let pageTokens = [null]; // First page is null
            let currentPageIndex = 0;

            function renderPagination() {
                let nav = document.getElementById('video-pagination');
                if (!nav) {
                    nav = document.createElement('div');
                    nav.id = 'video-pagination';
                    nav.style.display = 'flex';
                    nav.style.justifyContent = 'center';
                    nav.style.alignItems = 'center';
                    nav.style.gap = '16px';
                    nav.style.margin = '24px 0 0 0';
                    grid.parentNode.appendChild(nav);
                }
                nav.innerHTML = '';

                const prevBtn = document.createElement('button');
                prevBtn.textContent = 'Prev';
                prevBtn.className = 'btn';
                prevBtn.disabled = currentPageIndex === 0;
                prevBtn.onclick = function () {
                    if (currentPageIndex > 0) {
                        currentPageIndex--;
                        fetchVideos(pageTokens[currentPageIndex]);
                    }
                };

                const nextBtn = document.createElement('button');
                nextBtn.textContent = 'Next';
                nextBtn.className = 'btn';
                nextBtn.disabled = !pageTokens[currentPageIndex + 1];
                nextBtn.onclick = function () {
                    if (pageTokens[currentPageIndex + 1]) {
                        currentPageIndex++;
                        fetchVideos(pageTokens[currentPageIndex]);
                    }
                };

                nav.appendChild(prevBtn);
                nav.appendChild(nextBtn);
            }

            function fetchVideos(pageToken) {
                grid.innerHTML = '<div style="display:flex;justify-content:center;align-items:center;height:220px;width:100%;grid-column:1/-1;"><div class="loader"></div></div>';
                let url = `https://www.googleapis.com/youtube/v3/search?key=${apiKey}&channelId=${channelId}&part=snippet,id&order=date&maxResults=${videosPerPage}`;
                if (pageToken) url += `&pageToken=${pageToken}`;

                fetch(url)
                    .then(res => res.json())
                    .then(data => {
                        // Gather all video IDs for stats fetch
                        const videoIds = data.items.map(v => v.id.videoId).filter(Boolean);
                        if (videoIds.length === 0) {
                            grid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">No videos found.</p>';
                            renderPagination();
                            return;
                        }
                        // Fetch video stats (views, likes)
                        fetch(`https://www.googleapis.com/youtube/v3/videos?key=${apiKey}&id=${videoIds.join(',')}&part=statistics`)
                            .then(res2 => res2.json())
                            .then(statsData => {
                                let html = "";
                                data.items.forEach((video, idx) => {
                                    const videoId = video.id.videoId;
                                    const title = video.snippet.title;
                                    const thumbnail = video.snippet.thumbnails.medium.url;
                                    let views = '', likes = '';
                                    if (statsData.items[idx]) {
                                        views = statsData.items[idx].statistics.viewCount || '';
                                        likes = statsData.items[idx].statistics.likeCount || '';
                                    }
                                    html += `
                                <div class="video-card animate-on-scroll" style="cursor:pointer; box-shadow: 0 8px 32px rgba(0,0,0,0.12); border-radius: 18px; overflow: hidden; transition: box-shadow 0.3s; background: #fff;">
                                    <div class="video-thumbnail" style="border-radius: 18px 18px 0 0; overflow: hidden; position: relative;">
                                        <img src="${thumbnail}" alt="${title}" style="border-radius: 18px 18px 0 0; width: 100%; height: 180px; object-fit: cover;">
                                        <div class="play-btn" style="background:rgba(255,0,0,0.85);"><i class="fas fa-play"></i></div>
                                    </div>
                                    <div class="video-info" style="padding: 18px 18px 12px 18px; background: #fff;">
                                        <h3 style="font-size:1.15rem; font-weight:600; color:#222; margin-bottom:10px; line-height:1.4;">${title}</h3>
                                        <div class="video-meta" style="display:flex; justify-content:flex-start; gap:18px; align-items:center; font-size:0.98rem; color:#d32f2f; margin-bottom:8px;">
                                            <span style="display:flex;align-items:center;gap:5px;"><i class='fas fa-eye'></i> <span style="color:#222;font-weight:500;">${views}</span> views</span>
                                            <span style="display:flex;align-items:center;gap:5px;"><i class='fas fa-thumbs-up'></i> <span style="color:#222;font-weight:500;">${likes}</span> likes</span>
                                        </div>
                                    </div>
                                </div>
                            `;
                                });
                                grid.innerHTML = html;
                                // Make each video card clickable
                                grid.querySelectorAll('.video-card').forEach(card => {
                                    const idx = Array.from(grid.children).indexOf(card);
                                    const videoId = data.items[idx]?.id?.videoId;
                                    if (videoId) {
                                        card.addEventListener('click', function (e) {
                                            // Prevent click on links inside card
                                            if (e.target.tagName === 'A') return;
                                            window.open('https://www.youtube.com/watch?v=' + videoId, '_blank');
                                        });
                                    }
                                });
                                setTimeout(() => {
                                    animateOnScroll();
                                }, 100);

                                // Update tokens for pagination
                                if (data.nextPageToken) {
                                    // If moving forward, add token for next page
                                    if (!pageTokens[currentPageIndex + 1] || pageTokens[currentPageIndex + 1] !== data.nextPageToken) {
                                        pageTokens[currentPageIndex + 1] = data.nextPageToken;
                                    }
                                } else {
                                    // If no next page, remove any extra tokens
                                    pageTokens = pageTokens.slice(0, currentPageIndex + 1);
                                }
                                renderPagination();
                            })
                            .catch(err2 => {
                                grid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">Failed to load video stats.</p>';
                                renderPagination();
                                console.error(err2);
                            });
                    })
                    .catch(err => {
                        grid.innerHTML = '<p style="color: white; text-align: center; grid-column: 1 / -1;">Failed to load videos.</p>';
                        renderPagination();
                        console.error(err);
                    });
            }

            // Initial fetch
            pageTokens = [null];
            currentPageIndex = 0;
            fetchVideos(null);
        });
    </script>
</body>

</html>